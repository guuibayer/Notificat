{"version":3,"sources":["src/services/webhook.js"],"names":["WebhookService","req","res","query","FACEBOOK_PAGE_ACCESS_TOKEN","send","messagingEvents","body","entry","messaging","map","messagingEvent","message","sender","id","text","setStartedButton","setPersistentMenu","cardMessage","sendStatus","messageData","attachment","type","payload","template_type","elements","subtitle","image_url","buttons","url","title","qs","access_token","method","json","recipient","error","response","console","log","messages","setting_type","thread_state","call_to_actions"],"mappings":"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","file":"webhook.js","sourceRoot":"../../../../.."}