{"version":3,"sources":["src/services/webhook.js"],"names":["WebhookService","req","res","query","FACEBOOK_TOKEN","send","messagingEvents","body","entry","messaging","console","log","i","length","event","sender","id","message","text","sendGenericMessage","sendTextMessage","substring","postback","JSON","stringify","sendStatus"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;AACA;;;;;;;;IAEMA,c;AACJ,4BAAe;AAAA;AAAE;;;;gCAEJC,G,EAAKC,G,EAAK;AACrB,UAAI,CAACD,IAAIE,KAAJ,CAAU,kBAAV,CAAD,KAAmC,gBAAOC,cAA9C,EAA8D;AAC5D,eAAOF,IAAIG,IAAJ,CAAS,oBAAT,CAAP;AACD;;AAED,aAAOH,IAAIG,IAAJ,CAASJ,IAAIE,KAAJ,CAAU,eAAV,CAAT,CAAP;AACD;;;iCAEaF,G,EAAKC,G,EAAK;AACtB,UAAII,kBAAkBL,IAAIM,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,SAAxC;;AAEAC,cAAQC,GAAR,CAAYV,IAAIM,IAAhB;;AAEA,WAAK,IAAIK,IAAI,CAAb,EAAgBA,IAAIN,gBAAgBO,MAApC,EAA4CD,GAA5C,EAAiD;AAC/C,YAAIE,QAAQb,IAAIM,IAAJ,CAASC,KAAT,CAAe,CAAf,EAAkBC,SAAlB,CAA4BG,CAA5B,CAAZ;AACA,YAAIG,SAASD,MAAMC,MAAN,CAAaC,EAA1B;;AAEA,YAAIF,MAAMG,OAAN,IAAiBH,MAAMG,OAAN,CAAcC,IAAnC,EAAyC;AACvC,cAAIA,OAAOJ,MAAMG,OAAN,CAAcC,IAAzB;;AAEA,cAAIA,SAAS,SAAb,EAAwB;AACtBC,+BAAmBJ,MAAnB,EAA2B,gBAAOX,cAAlC;AACA;AACD;;AAEDgB,0BAAgBL,MAAhB,4BAAgDG,KAAKG,SAAL,CAAe,CAAf,EAAkB,GAAlB,CAAhD,EAA0E,gBAAOjB,cAAjF;AACD;;AAED,YAAIU,MAAMQ,QAAV,EAAoB;AAClB,cAAIJ,QAAOK,KAAKC,SAAL,CAAeV,MAAMQ,QAArB,CAAX;;AAEAF,0BAAgBL,MAAhB,0BAA8CG,MAAKG,SAAL,CAAe,CAAf,EAAkB,GAAlB,CAA9C,EAAwE,gBAAOjB,cAA/E;AACA;AACD;AACF;;AAEDF,UAAIuB,UAAJ,CAAe,GAAf;AACD;;;;;;kBAGYzB,c","file":"webhook.js","sourceRoot":"../../../../.."}